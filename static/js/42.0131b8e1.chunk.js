"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[42],{713:function(e,n,t){t.d(n,{AR:function(){return l},Hx:function(){return g},Wg:function(){return f},bI:function(){return v},xc:function(){return p}});var r=t(861),a=t(757),i=t.n(a),o="https://api.themoviedb.org/3",c="77b65a1040336b1047e785f5b6149d20";function s(){return u.apply(this,arguments)}function u(){return u=(0,r.Z)(i().mark((function e(){var n,t,r,a=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:"",t=a.length>1&&void 0!==a[1]?a[1]:{},e.next=4,fetch(n,t);case 4:if(!(r=e.sent).ok){e.next=11;break}return e.next=8,r.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("Not found"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function l(){return s("".concat(o,"/trending/movie/day?api_key=").concat(c))}function v(e){return s("".concat(o,"/search/movie?api_key=").concat(c,"&query=").concat(e,"&language=en-US&page=1&include_adult=false"))}function f(e){return s("".concat(o,"/movie/").concat(e,"?api_key=").concat(c,"&language=en-US"))}function p(e){return s("".concat(o,"/movie/").concat(e,"/credits?api_key=").concat(c,"&language=en-US"))}function g(e){return s("".concat(o,"/movie/").concat(e,"/reviews?api_key=").concat(c,"&language=en-US&page=1"))}},42:function(e,n,t){t.r(n),t.d(n,{default:function(){return g}});var r=t(413),a=t(861),i=t(885),o=t(757),c=t.n(o),s=t(791),u=t(501),l=t(871),v=t(713),f={container:"MovieDetailsPage_container__fntPy",cast:"MovieDetailsPage_cast__nh1oP",reviews:"MovieDetailsPage_reviews__VGza7",movieCard:"MovieDetailsPage_movieCard__BMoxK",movieCardImg:"MovieDetailsPage_movieCardImg__dDlRO",movieCardInfo:"MovieDetailsPage_movieCardInfo__SfCUF",movieCardLink:"MovieDetailsPage_movieCardLink__ZVC49",btn:"MovieDetailsPage_btn__VtrW5"},p=t(184);function g(){var e,n=(0,s.useState)({movie:[],genres:[],error:null}),t=(0,i.Z)(n,2),o=t[0],g=t[1],d=(0,l.TH)(),m=(0,l.s0)(),_=(0,l.UO)().movieId,h=(null===(e=d.state)||void 0===e?void 0:e.from)||"/";(0,s.useEffect)((function(){var e=function(){var e=(0,a.Z)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,v.Wg)(_);case 3:n=e.sent,g((function(e){return(0,r.Z)((0,r.Z)({},e),{},{movie:n,genres:n.genres,overview:n.overview,original_title:n.original_title,poster_path:n.poster_path,vote_average:n.vote_average})})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),g((function(n){return(0,r.Z)((0,r.Z)({},n),{},{error:e.t0.message})}));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[_]);var b=o.genres.map((function(e){return(0,p.jsx)("li",{children:e.name},e.name)}));return(0,p.jsxs)(p.Fragment,{children:["/"===d.pathname?"":(0,p.jsx)("button",{className:f.btn,onClick:function(){return m(h)},children:"Go back"}),o.error&&(0,p.jsx)("p",{children:"Ooopsie..."}),(0,p.jsxs)("div",{className:f.movieCard,children:[(0,p.jsx)("img",{src:o.poster_path?"https://image.tmdb.org/t/p/original".concat(o.poster_path):"",alt:o.original_title,className:f.movieCardImg}),(0,p.jsxs)("div",{className:f.movieCardInfo,children:[(0,p.jsx)("h2",{children:o.original_title}),(0,p.jsxs)("p",{children:["User Score: ",o.vote_average]}),(0,p.jsx)("p",{children:o.overview}),(0,p.jsxs)("ul",{className:f.genresList,children:[(0,p.jsx)("h2",{children:"Genres:"}),b]})]})]}),(0,p.jsxs)("div",{className:f.container,children:[(0,p.jsx)(u.rU,{to:"cast",className:f.cast,children:"cast"}),(0,p.jsx)(u.rU,{to:"reviews",className:f.reviews,children:"review"})]}),(0,p.jsx)(l.j3,{})]})}},942:function(e,n,t){function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}t.d(n,{Z:function(){return r}})},413:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(942);function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}}}]);
//# sourceMappingURL=42.0131b8e1.chunk.js.map